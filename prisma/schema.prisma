// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "postgresql"
    url      = env("DATABASE_URL")
}

model Advisor {
    siape         Int          @id
    nome          String
    email         String       @unique
    senha         String
    tipoProfessor String
    projetos      Project[]
    sugestao      Suggestion[]

    @@map(name: "professor")
}

model Student {
    matricula Int      @id
    nome      String
    email     String   @unique
    senha     String
    trabalho  Project?

    @@map(name: "aluno")
}

model Project {
    id          Int       @id @default(autoincrement())
    titulo      String
    aluno       Student   @relation(fields: [mat_aluno], references: [matricula])
    mat_aluno   Int       @unique
    professores Advisor[]

    @@map(name: "trabalho")
}

model Suggestion {
    id              Int     @id @default(autoincrement())
    valor           String  @db.VarChar(500)
    orientador      Advisor @relation(fields: [siape_professor], references: [siape])
    siape_professor Int

    @@map(name: "sugestao")
}
